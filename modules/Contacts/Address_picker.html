<!--
/*
 * Your installation or use of this SugarCRM file is subject to the applicable
 * terms available at
 * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.
 * If you do not agree to all of the applicable terms or do not have the
 * authority to bind the entity as an authorized representative, then do not
 * install or use this SugarCRM file.
 *
 * Copyright (C) SugarCRM Inc. All rights reserved.
 */
-->
<!-- BEGIN: main -->

<script type="text/javascript">
<!--
		function save_checks(offset) {
			checked_ids = Array();
			for (i = 0; i < document.MassUpdate.elements.length; i++){
				if(document.MassUpdate.elements[i].name == 'mass[]' && document.MassUpdate.elements[i].checked) {
					temp_string = '';
					temp_string += '"' + document.MassUpdate.elements[i].value + '": {';
					for(the_key in associated_javascript_data[document.MassUpdate.elements[i].value]) {
						temp_string += '"' + the_key + '":"' + associated_javascript_data[document.MassUpdate.elements[i].value][the_key] + '",'; 
					}
					temp_string = temp_string.substring(0,temp_string.length - 1);
					temp_string += '}';
					checked_ids.push(temp_string);
				}				 
			}
			document.MassUpdate.saved_associated_data.value = escape('{' + checked_ids.join(',') + '}');
			document.MassUpdate.action.value = 'ContactAddressPopup';
			document.MassUpdate.Contacts_CONTACT_offset.value = offset;
			document.MassUpdate.submit();
			return false;
		}

		// reassigned the saved data from the saved checks
		if(typeof(document.MassUpdate) != 'undefined' && document.MassUpdate.saved_associated_data.value != '') {
			temp_array = '';
			for(the_key in temp_array) {
				associated_javascript_data[the_key] = temp_array[the_key];
			}
		}

		// save checks across pages for multiselects 
		if(typeof(document.MassUpdate) != "undefined") {		
			checked_items = Array();
			inputs_array = document.MassUpdate.elements;
	
			for(wp = 0 ; wp < inputs_array.length; wp++) {
				if(inputs_array[wp].name == "mass[]" && inputs_array[wp].style.display == "none") {
					checked_items.push(inputs_array[wp].value);
				} 
			}
			for(i in checked_items) {
				for(wp = 0 ; wp < inputs_array.length; wp++) {
					if(inputs_array[wp].name == "mass[]" && inputs_array[wp].value == checked_items[i]) {
						inputs_array[wp].checked = true;
					}
				}
			}
		}
-->
</script>

<!-- BEGIN: list_nav_row -->
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="list view">
{PAGINATION}
<!-- END: list_nav_row -->
<tr height="20">
<td scope="col"  NOWRAP>{CHECKALL}</td>
<td scope="col" width="20%"  nowrap="nowrap"><a href="{ORDER_BY.ESCAPE_HTML_ATTR}last_name" class="listViewThLinkS1">{MOD.LBL_LIST_CONTACT_NAME.ESCAPE_HTML}{arrow_start}{last_name_arrow}{arrow_end}</a></td>
<td scope="col" width="35%"  nowrap="nowrap"><a href="{ORDER_BY.ESCAPE_HTML_ATTR}primary_address_street" class="listViewThLinkS1">{MOD.LBL_PRIMARY_ADDRESS.ESCAPE_HTML}{arrow_start}{email1_arrow}{arrow_end}</a></td>
<td scope="col" width="40%"  nowrap="nowrap">{MOD.LBL_LIST_ACCOUNT_NAME.ESCAPE_HTML}</td>
</tr>
<!-- BEGIN: row -->
<tr height="20" class="{ROW_COLOR.ESCAPE_HTML_ATTR}S1">
<td valign="top">{PREROW}</td>
<td scope='row' valign="top"><a href="#"  onclick="send_back('Contacts','{CONTACT.ID.ESCAPE_JS}');">{CONTACT.FIRST_NAME.ESCAPE_HTML}&nbsp;{CONTACT.LAST_NAME.ESCAPE_HTML}</a></td>
<td valign="top">
	<slot>{CONTACT.PRIMARY_ADDRESS_STREET.ESCAPE_HTML}<br>
	{CONTACT.PRIMARY_ADDRESS_CITY.ESCAPE_HTML} {CONTACT.PRIMARY_ADDRESS_STATE.ESCAPE_HTML}&nbsp;&nbsp;{CONTACT.PRIMARY_ADDRESS_POSTALCODE.ESCAPE_HTML}<br>
	{CONTACT.PRIMARY_ADDRESS_COUNTRY.ESCAPE_HTML}</slot>
<td valign="top">{CONTACT.ACCOUNT_NAME.ESCAPE_HTML}</td>
</tr>

<!-- END: row -->
{ASSOCIATED_JAVASCRIPT_DATA}
</table>

<!-- END: main -->
