# Maple Syrup

A design token implementation for Sugar products.

## Getting started

Maple Syrup is available via [npm package](https://nexus.service.sugarcrm.com/#browse/browse:npm:%40sugarcrm%2Fmaple-syrup).
This package is only available through the company VPN. 

## Contributing
Please refer to [CONTRIBUTING.md](CONTRIBUTING.md)

## Structure

All the design tokens are nested under the `tokens/` directory, and are grouped by token type. For example, 
`tokens/color/` houses all the color variables used in the Sugar palette. `tokens/component/` houses all the variables
help define functionality for various, generic components. 

### SugarIcons

The UX team owns the internal icon library, known as _SugarIcons_. It is managed in an asset version control system 
called Nucleo. 

Once the icons are ready to go, UX will send a developer a .zip folder that has the following structure:

```
- icons.zip  
    |--- css/       
    |--- demo/
    |--- fonts/
    |--- less/
    |--- scss/
    |--- demo.html
    |--- unicodesMap.json
```

The `css`, `less`, and `scss` folders contain stylesheets for using the icon font itself. The `fonts` directory houses
the various font files. Everything else is not required. Removing these files is not necessary, as these files are 
automatically ignored in `.gitignore`.

To update the files, copy all the contents from this zip file into the `build/sugaricons` directory:

```shell
$  cp -r path/to/icons/ ./build/sugaricons/
```

Attention! Because of the way we integrate the SugarIcons into other products, we have conflicts with some of the lines
in the `./build/sugaricons/less/icons.less` file, auto-generated by Nucleo.
Therefore, we created the script `./.github/scripts/pre-commit.sh` that will remove these lines before committing the 
changes.

In order to run the script, you either do it manually, by copying the file into the `.git/hooks` directory and making it
executable, or you can use the `pre-commit` framework to do it automatically.
For that, you'll need to install the `pre-commit` package:

```shell
$ python3 -m venv .venv  # To create a virtual environment
$ source .venv/bin/activate  # To activate the virtual environment
$ pip install pre-commit  # To install the package
```
After that, you will run the `pre-commit install` command to install the pre-commit hook in your `.git/hooks` directory.
That way, the script will run automatically before each commit.

## How does this repo work?

Using namespaced JSON and Amazon's [Style Dictionary](https://github.com/amzn/style-dictionary) library, we're able to 
build an easy to write and maintain platform with the ability to output to any desired format. This allows the tool to 
stay agnostic and flexible, while each product-level implementation to be specific.

### Transforms

_Note_: This section will be expanded over time. 

If you're interested in having Maple Syrup output to a new format, please add a new entry under the `platforms` property
in `config.js`.

### About

This project was pulled from Sprint Week '22. The motivation was, and is, to make atomic level details of the style 
toolchain consistent and reusable for every product at Sugar.

